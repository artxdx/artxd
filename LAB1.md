#                Лабораторная работа № 1 
## Настройка Безопасного Административного Доступа
## Представлена следующая топология
![](topology.png)
## Таблица IP-адресации.
![](table.png)
## Цели
### Часть 1 :Настройка основных параметров устройств
+ Подключите сеть, как показано в топологии.
+ Настройте базовую IP-адресацию для маршрутизаторов и ПК.
+ Настройте маршрутизацию OSPF.
+ Настройка хостов ПК
+ Проверьте подключение между хостами и маршрутизаторами.
### Часть 2 :Настройка и шифрование паролей на маршрутизаторах R1 и R3
+ Настройте зашифрованный пароль для консоли, вспомогательного порта и виртуальных линий доступ
+  Шифрование паролей с открытым текстом
+  Настройка баннера с предупреждающим сообщением
### Часть 3 :Настройка повышенной безопасности имени пользователя и пароля на маршрутизаторах R1 и R3
+ Создание новых учетных записей пользователей
+ Войдите в систему, используя учетные записи пользователей
### Часть 4 :Настройка SSH-сервера на маршрутизаторах R1 и R3
+ Настройка доменного имени
+ Генерировать ключ шифрования RSA
+ Настройка и проверка конфигураций SSH
### Теоретическая часть

Маршрутизатор является важнейшим компонентом любой сети. Он управляет перемещением данных в сеть и из нее, а также между устройствами внутри сети. Особенно важно защитить сетевые маршрутизаторы, поскольку отказ маршрутизирующего устройства может сделать недоступными отдельные участки сети или всю сеть. Контроль доступа к маршрутизаторам и включение отчетов о маршрутизаторах имеют решающее значение для сетевой безопасности и должны быть частью всеобъемлющей политики безопасности.
В этой лабораторной работе вы создадите сеть с несколькими маршрутизаторами и настроите маршрутизаторы и хосты. Используйте различные инструменты CLI для обеспечения локального и удаленного доступа к маршрутизаторам, анализа потенциальных уязвимостей и принятия мер по их устранению. Включите управленческую отчетность для отслеживания изменений конфигурации маршрутизатора.
Примечание: Маршрутизаторы, используемые в практических лабораториях, - это Cisco 4221 с Cisco IOS XE версии 16.9.6 (изображение universalk9). Коммутаторы, используемые в лабораториях, - это Cisco Catalyst 2960+ с Cisco IOS версии 15.2 (7) (изображение lanbasek9). Можно использовать другие маршрутизаторы, коммутаторы и версии Cisco IOS. В зависимости от модели и версии Cisco IOS доступные команды и выдаваемый результат могут отличаться от того, что показано в лабораторных условиях.Обратитесь к Сводной таблице интерфейса маршрутизатора в конце лабораторной работы для получения правильных идентификаторов интерфейса.
Примечание: Прежде чем начать, убедитесь, что маршрутизаторы и коммутаторы были удалены и не имеют конфигураций запуска.

### Необходимые Ресурсы

+ 3 маршрутизатора (Cisco 4221 с универсальным образом Cisco XERelease 16.9.6 или сопоставимым с лицензией на пакет технологий безопасности)
+ 2 коммутатора (Cisco 2960+ с изображением Cisco IOS версии 15.2 (7) lanbasek9 или аналогичным)
+ 2 ПК (ОС Windows с установленной программой терминальной эмуляции, такой как PuTTY или Tera Term)
+ Консольные кабели для конфигурирования сетевых устройств CISCO
+ Кабели Ethernet , как показано в топологии

### Инструкции  

### Часть 1 :Настройка основных параметров устройств  

В этой части настройте топологию сети и настройте основные параметры, такие как IP-адреса интерфейса  

#### Шаг 1: Подключите кабель к сети.  
Подсоедините устройства, как показано на схеме топологии, и при необходимости подключите кабель  

#### Шаг 2: Настройте основные параметры для каждого маршрутизатора.  
a. Подключите консоль к маршрутизатору и включите привилегированный режим EXEC.  
Router>enable  
Router# configure terminal  
b. Настройте имена узлов, как показано в топологии  
R1(config)# hostname R1  
c. Настройте IP-адреса интерфейса, как показано в таблице IP-адресации.  
R1(config)# interface g0/0/0  
R1(config-if)# ip address 10.1.1.1 255.255.255.0  
R1(config-if)# no shutdown  

R1(config)# interface g0/0/1  
R1(config-if)# ip address 192.168.1.1 255.255.255.0  
R1(config-if)# no shutdown  

d. Чтобы маршрутизатор не пытался перевести неправильно введенные команды, как если бы они были именами хостов, отключите поиск DNS. R1 показан здесь в качестве примера.  
R1(config)# no ip domain-lookup  
#### Шаг 3: Настройте маршрутизацию OSPF на маршрутизаторах.  

a. Используйте команду ospf маршрутизатора в режиме глобальной конфигурации, чтобы включить OSPF на R1.  

R1(config)# router ospf 1  

b. Настройте сетевые инструкции для сетей на R1. Используйте идентификатор области, равный 0.  

R1(config-router)# network 192.168.1.0 0.0.0.255 area 0  
R1(config-router)# network 10.1.1.0 0.0.0.3 area 0  

c. Настройте OSPF на R2 и R3.  

R2(config)#router ospf 1  
R2(config-router)#network 10.1.1.0 0.0.0.3 area 0  
R2(config-router)#network 10.2.2.0 0.0.0.3 area 0  

R3(config)#router ospf 1  
R3(config-router)#network 10.2.2.0 0.0.0.3 area 0  
R3(config-router)#network 192.168.3.0 0.0.0.255 area 0  

d. Выполните команду passive-interface, чтобы изменить интерфейс G0/0/1 на R1 и R3 на пассивный  

R1(config)# router ospf 1  
R1(config-router)# passive-interface g0/0/1  
R3(config)# router ospf 1  
R3(config-router)# passive-interface g0/0/1  

#### Шаг 4: Проверьте соседей OSPF и информацию о маршруте.  
a. Выполните команду show ip ospf neighbor, чтобы убедиться, что каждый маршрутизатор перечисляет другие маршрутизаторы в сети в качестве соседей.  
R1# show ip ospf neighbor  

Neighbor ID     Pri   State           Dead Time   Address         Interface
10.2.2.2          1   FULL/BDR        00:00:37    10.1.1.2        GigabitEthernet0/0/0  
b. Выполните команду show ip-route, чтобы убедиться, что все сети отображаются в таблице маршрутизации на всех маршрутизаторах.  
R1# show ip route  
Codes: L - local, C - connected, S - static, R - RIP, M - mobile, B - BGP
       D - EIGRP, EX - EIGRP external, O - OSPF, IA - OSPF inter area
       N1 - OSPF NSSA external type 1, N2 - OSPF NSSA external type 2
       E1 - OSPF external type 1, E2 - OSPF external type 2
       i - IS-IS, su - IS-IS summary, L1 - IS-IS level-1, L2 - IS-IS level-2
       ia - IS-IS inter area, * - candidate default, U - per-user static route
       o - ODR, P - periodic downloaded static route, H - NHRP, l - LISP
       a - application route
       + - replicated route, % - next hop override, p - overrides from PfR  

Gateway of last resort is not set  

         10.0.0.0/8 is variably subnetted, 3 subnets, 2 masks  
C        10.1.1.0/30 is directly connected, GigabitEthernet0/0/0  
L        10.1.1.1/32 is directly connected, GigabitEthernet0/0/0  
O        10.2.2.0/30 [110/2] via 10.1.1.2, 00:01:11, GigabitEthernet0/0/0  
      192.168.1.0/24 is variably subnetted, 2 subnets, 2 masks  
C        192.168.1.0/24 is directly connected, GigabitEthernet0/0/1  
L        192.168.1.1/32 is directly connected, GigabitEthernet0/0/1  
O     192.168.3.0/24 [110/3] via 10.1.1.2, 00:01:07, GigabitEthernet0/0/0   

#### Шаг 5: Настройте параметры IP-адреса хоста ПК.  
Настройте статический IP-адрес, маску подсети и шлюз по умолчанию для PCA и PCC, как показано в таблице IP-адресации.
#### Шаг 6: Проверьте подключение между PC-A и PC-C.
a. Пинг от R1 до R3.  
Если запросы не завершились успешно, устраните неполадки в основных конфигурациях устройства, прежде чем продолжить.  
b. Выполните пинг с PC-A в локальной сети R1 на PCC в локальной сети R3.
Если запросы не завершились успешно, устраните неполадки в основных конфигурациях устройства, прежде чем продолжить.  

Примечание: Если вы можете выполнить пинг с ПК-A на ПК-C, вы продемонстрировали, что маршрутизация OSPF настроена и функционирует правильно. Если вы не можете выполнить поиск, но интерфейсы устройств подключены, а IP-адреса указаны правильно, используйте команды show run, show ip ospf neighbor и show ip route, чтобы помочь определить проблемы, связанные с протоколом маршрутизации. 
#### Шаг 7: Сохраните базовую текущую конфигурацию для каждого маршрутизатора.

Сохраните базовую текущую конфигурацию маршрутизаторов в виде текстовых файлов на вашем компьютере.Эти текстовые файлы можно использовать для восстановления конфигураций позже в лаборатории.  
### Часть 2: Настройка и шифрование паролей на маршрутизаторах R1 и R3  
В этой части вы будете выполнять:
+ Настройку зашифрованных паролей.
+ Настройте предупреждающий баннер alogin.
+ Настройте повышенную безопасность имени пользователя и пароля.
+ Настройте повышенную безопасность виртуального входа в систему.  
Примечание:  
#### Шаг 1: Настройте зашифрованные пароли на маршрутизаторах R1 и R3.
a. Настройте параметр включить секретный зашифрованный пароль на обоих маршрутизаторах. Используйте алгоритм хеширования типа 9 (SCRYPT).  
R1(config)# enable algorithm-type scrypt secret cisco12345  
## Вопрос:
## Как настройка секретного пароля включения помогает защитить маршрутизатор от взлома в результате атаки?






















